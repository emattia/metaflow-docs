"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[426],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),f=a,m=d["".concat(s,".").concat(f)]||d[f]||c[f]||o;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5585:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={},i="Episode 4: Hello AWS",l={unversionedId:"v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04",id:"v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04",title:"Episode 4: Hello AWS",description:"This flow is a simple linear workflow that verifies your AWS configuration. The start",source:"@site/docs/v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04.md",sourceDirName:"v/r/getting-started/tutorials/season-2-scaling-out-and-up",slug:"/v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04",permalink:"/v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04",draft:!1,editUrl:"https://github.dev/Netflix/metaflow-docs/blob/master/docs/v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode04.md",tags:[],version:"current",frontMatter:{},sidebar:"r",previous:{title:"Season 2: Scaling Out and Up",permalink:"/v/r/getting-started/tutorials/season-2-scaling-out-and-up/"},next:{title:"Episode 5: Statistics Redux",permalink:"/v/r/getting-started/tutorials/season-2-scaling-out-and-up/episode05"}},s={},p=[{value:"Showcasing:",id:"showcasing",level:2},{value:"Before playing this episode:",id:"before-playing-this-episode",level:2},{value:"To play this episode:",id:"to-play-this-episode",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"episode-4-hello-aws"},"Episode 4: Hello AWS"),(0,a.kt)("p",null,"This flow is a simple linear workflow that verifies your AWS configuration. The ",(0,a.kt)("inlineCode",{parentName:"p"},"start"),"\nand ",(0,a.kt)("inlineCode",{parentName:"p"},"end")," steps will run locally, while the ",(0,a.kt)("inlineCode",{parentName:"p"},"hello")," step will run remotely on AWS batch."),(0,a.kt)("p",null,"After configuring Metaflow to run on AWS, data and metadata about your runs will be\nstored remotely. This means you can use the client to access information about any flow\nfrom anywhere."),(0,a.kt)("h2",{id:"showcasing"},"Showcasing:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"AWS ",(0,a.kt)("a",{parentName:"li",href:"/v/r/metaflow/scaling"},"batch decorator"),"."),(0,a.kt)("li",{parentName:"ul"},"Accessing data artifacts generated remotely in a local notebook."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/v/r/metaflow/failures#retrying-tasks-with-the-retry-decorator"},"retry\ndecorator"),".")),(0,a.kt)("h2",{id:"before-playing-this-episode"},"Before playing this episode:"),(0,a.kt)("p",null,"Configure your ",(0,a.kt)("a",{parentName:"p",href:"https://metaflow.org/sandbox/"},"sandbox"),"."),(0,a.kt)("h2",{id:"to-play-this-episode"},"To play this episode:"),(0,a.kt)("p",null,"If you haven't yet pulled the tutorials to your current working directory, you can\nfollow the instructions ",(0,a.kt)("a",{parentName:"p",href:"../#pull-tutorials"},"here"),"."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"cd tutorials/04-helloaws")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"Rscript helloaws.R run")),(0,a.kt)("li",{parentName:"ol"},"Open ",(0,a.kt)("inlineCode",{parentName:"li"},"helloaws.md")," in your local RStudio")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-r"},'#  A flow where Metaflow prints \'Hi\'.\n#  Run this flow to validate that Metaflow is installed correctly.\n\nlibrary(metaflow)\n\n# This is the \'start\' step. All flows must have a step named\n# \'start\' that is the first step in the flow.\nstart <- function(self){\n    message("HelloAWS is starting.")\n    message("Using metadata provider: ", get_metadata())\n}\n\n# A step for metaflow to introduce itself.\nhello <- function(self){\n    self$message <- "We\'re on the cloud! Metaflow says: Hi!"\n    print(self$message)\n    message("Using metadata provider: ", get_metadata())\n}\n\n# This is the \'end\' step. All flows must have an \'end\' step,\n# which is the last step in the flow.\nend <- function(self){\n    message("HelloAWS is all done.")\n}\n\nmetaflow("HelloAWSFlow") %>%\n    step(step = "start",\n         r_function = start,\n         next_step = "hello") %>%\n    step(step = "hello",\n         decorator("retry", times=2),\n         decorator("batch", cpu=2, memory=2048),\n         r_function = hello,\n         next_step = "end") %>%\n    step(step = "end",\n         r_function = end) %>%\n    run()\n')))}c.isMDXComponent=!0}}]);